(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-registration-resetPassword"],{"17be":function(t,e,i){"use strict";i.r(e);var a=i("4879"),s=i.n(a);for(var n in a)"default"!==n&&function(t){i.d(e,t,(function(){return a[t]}))}(n);e["default"]=s.a},"2c3c":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,"uni-page-body[data-v-47d3d047]{background:#2f3132}.inTitle[data-v-47d3d047]{padding-left:%?30?%;color:#fff;font-size:%?30?%;line-height:%?60?%;margin-top:%?26?%}.input1[data-v-47d3d047]{height:%?94?%;border-radius:%?10?%;display:flex;align-items:center;border:%?2?% solid #5d0e00;background:#5d0e00;padding-left:%?20?%;padding-right:%?10?%}.textphone[data-v-47d3d047]{font-size:14px;font-family:PingFang SC;font-weight:800;color:#fee9e7;margin-left:%?20?%}.input_width[data-v-47d3d047]{height:100%;width:95%;margin-left:%?26?%;font-size:%?26?%;font-family:PingFang SC;font-weight:800;color:#fee9e7}.input_width2[data-v-47d3d047]{height:100%;width:95%;margin-left:%?20?%;font-size:%?26?%;font-family:PingFang SC;font-weight:800;color:#fee9e7}.input_width3[data-v-47d3d047]{height:100%;width:70%;margin-left:%?20?%;font-size:%?26?%;font-family:PingFang SC;font-weight:800;color:#fee9e7}.send_code[data-v-47d3d047]{min-width:50px;height:100%;background:linear-gradient(90deg,#7f1401,#ac1a00);color:#fee9e7;display:flex;align-items:center;justify-content:center;padding:0 %?15?%}[data-v-47d3d047] .uni-input-input:-webkit-autofill{-webkit-transition:background-color 5000s ease-in-out 0s;transition:background-color 5000s ease-in-out 0s}[data-v-47d3d047] .uni-input-input{-webkit-text-fill-color:#fee9e7}.zhuce[data-v-47d3d047]{display:flex;justify-content:center;align-items:center;width:%?600?%;height:%?100?%;background:linear-gradient(90deg,#7f1401,#ac1a00);border-radius:%?50?%;font-size:%?28?%;font-family:PingFang SC;font-weight:700;color:#fff}.not[data-v-47d3d047]{display:flex;justify-content:center;align-items:center;width:%?600?%;height:%?100?%;background:linear-gradient(90deg,#666,#999);border-radius:%?50?%;font-size:%?28?%;font-family:PingFang SC;font-weight:700;color:#fff}body.?%PAGE?%[data-v-47d3d047]{background:#2f3132}",""]),t.exports=e},4879:function(t,e,i){"use strict";(function(t){var a=i("4ea4");i("4d63"),i("ac1f"),i("25f0"),i("5319"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("96cf");var s=a(i("1da1")),n={data:function(){return{array:["1","34","60","62","63","65","66","673","81","82","84","850","852","853","855","856","86","886","880","90","91","92","93","94","95","960","961","962","963","964","965","966","968","971","972","973","974","975","976","977","98","995","7","30","31","32","33","350","351","352","353","354","355","356","357","358","359","36","37","370","371","372","373","374","375","376","377","378","379","38","380","381","382","383","384","385","386","387","388","389","336","349","338","39","223","396","40","41","4175","42","420","421","422","423","424","43","44","45","46","47","48","49","20","210","213","216","218","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243","244","245","247","248","249","250","251","252","253","254","255","256","257","258","260","261","262","263","264","265","266","267","268","269","27","290","297","298","1808","1809","1907","299","500","501","502","503","504","505","506","507","509","51","52","53","54","55","56","57","58","591","592","593","594","595","596","597","598","61","64","671","6722","6723","6724","674","676","677","678","679","682","683","684","685","686","688"],index:0,phone:"",password:"",twopassword:"",yaoqing:"",yaoqingLink:!1,yzm:"",sms:"",src:"",code_rand:"",setState:!0,setCode:0}},computed:{i18n:function(){return this.$t("message")}},onReady:function(){uni.setNavigationBarTitle({title:this.$t("message").tabbar.reset})},onLoad:function(e){t("log",e,33333," at pages/registration/resetPassword.vue:140")},onShow:function(){this.getParam(location.href,"idcode")?(this.yaoqing=this.getParam(location.href,"idcode"),this.yaoqingLink=!0):(this.yaoqingLink=!1,this.yaoqing=""),this.codes(),null!=getApp().globalData.qrcode&&(this.yaoqing=getApp().globalData.qrcode)},methods:{bindPickerChange:function(e){t("log","picker发送选择改变，携带值为",e.target.value," at pages/registration/resetPassword.vue:157"),this.index=e.target.value},getParam:function(t,e){var i=new RegExp("(^|\\?|&)"+e+"=([^&]*)(\\s|&|$)","i");return i.test(t)?unescape(RegExp.$2.replace(/\+/g," ")):""},codes:function(){for(var e=[],i=0;i<4;i++){var a=Math.random();a*=10,a=Math.ceil(a),e.push(a)}t("log",e.join("")," at pages/registration/resetPassword.vue:174"),this.code_rand=e.join("");var s=this;uni.request({url:uni.$url+"/api/users/code",data:{code_rand:e.join("")},responseType:"arraybuffer",success:function(e){t("log",e,555555555," at pages/registration/resetPassword.vue:187");var i=new Blob([e.data],{type:"image/png"});s.blobToDataURL(i,(function(e){t("log",e," at pages/registration/resetPassword.vue:192"),s.src=e}))}})},blobToDataURL:function(t,e){var i=new FileReader;i.onload=function(t){e(t.target.result)},i.readAsDataURL(t)},zhuce:function(){var e=this;return(0,s.default)(regeneratorRuntime.mark((function i(){var a,s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(""!=e.phone&&""!=e.password&&""!=e.twopassword&&""!=e.yzm&&""!=e.yaoqing){i.next=4;break}uni.showToast({title:e.$t("message").drawing.drawingTitle1,icon:"none"}),i.next=16;break;case 4:if(e.password==e.twopassword){i.next=8;break}uni.showToast({title:e.$t("message").drawing.drawingTitle3,icon:"none"}),i.next=16;break;case 8:return e.setState=!1,a={username:e.phone,dest:e.array[e.index],password:e.password,re_password:e.twopassword,smscode:e.sms,code:e.yzm,code_rand:e.code_rand,idcode:e.yaoqing},setTimeout((function(){e.setState=!0,e.codes()}),3500),i.next=13,e.$api.resetPassword(a);case 13:s=i.sent,t("log",s,"zheshifanhui"," at pages/registration/resetPassword.vue:236"),1==s.code?(uni.showToast({title:s.code_dec,icon:"success"}),setTimeout((function(){uni.navigateTo({url:"../login/login"})}),1500)):uni.showToast({title:s.code_dec,icon:"none"});case 16:case"end":return i.stop()}}),i)})))()},sendCode:function(){var t=this;return(0,s.default)(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""!=t.phone&&""!=t.yzm){e.next=4;break}uni.showToast({title:t.$t("message").drawing.drawingTitle1,icon:"none"}),e.next=9;break;case 4:return i={mobile:t.phone,dest:t.array[t.index],code:t.yzm,code_rand:t.code_rand},e.next=7,t.$api.sendCodePW(i);case 7:e.sent,t.countDown();case 9:case"end":return e.stop()}}),e)})))()},countDown:function(){var t=this;this.setCode=60,setInterval((function(){t.setCode-=1}),1e3)}}};e.default=n}).call(this,i("0de9")["log"])},a0b0:function(t,e,i){"use strict";i.r(e);var a=i("dfcd"),s=i("17be");for(var n in s)"default"!==n&&function(t){i.d(e,t,(function(){return s[t]}))}(n);i("ebd9");var o,r=i("f0c5"),d=Object(r["a"])(s["default"],a["b"],a["c"],!1,null,"47d3d047",null,!1,a["a"],o);e["default"]=d.exports},babc:function(t,e,i){var a=i("2c3c");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var s=i("4f06").default;s("157255dd",a,!0,{sourceMap:!1,shadowMode:!1})},dfcd:function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){return a}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("v-uni-view",{staticStyle:{padding:"0 15rpx",position:"fixed",left:"50%",transform:"translateX(-50%)","z-index":"20",width:"100%",height:"100vh","box-sizing":"border-box","padding-bottom":"150rpx","overflow-y":"scroll"}},[i("v-uni-view",{staticStyle:{"margin-top":"10rpx"}},[i("v-uni-view",{staticClass:"inTitle"},[t._v(t._s(this.$t("message").resetPassword.title1))]),i("v-uni-view",{staticClass:"input1"},[i("v-uni-image",{staticStyle:{width:"36rpx",height:"48rpx","margin-left":"4rpx"},attrs:{src:"/static/image/iphone.png",mode:"widthFix"}}),i("v-uni-view",{staticClass:"textphone",staticStyle:{display:"flex"}},[t._v("+"),i("v-uni-view",{staticClass:"uni-list"},[i("v-uni-view",{staticClass:"uni-list-cell"},[i("v-uni-view",{staticClass:"uni-list-cell-db"},[i("v-uni-picker",{attrs:{value:t.index,range:t.array},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.bindPickerChange.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"uni-input"},[t._v(t._s(t.array[t.index]))])],1)],1)],1)],1)],1),i("v-uni-input",{staticClass:"input_width",attrs:{type:"text",placeholder:this.$t("message").resetPassword.regisplaceholder1,"placeholder-style":"font-family: PingFang SC;font-size: 13px;\n\t\tfont-weight: 800;color: #FEE9E7;"},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1),i("v-uni-view",{staticClass:"inTitle"},[t._v(t._s(this.$t("message").resetPassword.title2))]),i("v-uni-view",{staticClass:"input1"},[i("v-uni-image",{staticStyle:{width:"38rpx",height:"42rpx"},attrs:{src:"/static/image/block.png",mode:""}}),i("v-uni-input",{staticClass:"input_width",attrs:{type:"text",placeholder:this.$t("message").resetPassword.regisplaceholder2,password:"true","placeholder-style":"font-family: PingFang SC;font-size: 13px;\n\t\tfont-weight: 800;color: #FEE9E7;"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),i("v-uni-view",{staticClass:"inTitle"},[t._v(t._s(this.$t("message").resetPassword.title3))]),i("v-uni-view",{staticClass:"input1"},[i("v-uni-image",{staticStyle:{width:"42rpx",height:"42rpx"},attrs:{src:"/static/image/blockmi.png",mode:""}}),i("v-uni-input",{staticClass:"input_width",attrs:{type:"text",placeholder:this.$t("message").resetPassword.regisplaceholder3,password:"true","placeholder-style":"font-family: PingFang SC;font-size: 13px;\n\t\tfont-weight: 800;color: #FEE9E7;"},model:{value:t.twopassword,callback:function(e){t.twopassword=e},expression:"twopassword"}})],1),i("v-uni-view",{staticClass:"inTitle"},[t._v(t._s(this.$t("message").resetPassword.title4))]),i("v-uni-view",{staticClass:"input1"},[i("v-uni-image",{staticStyle:{width:"42rpx",height:"42rpx"},attrs:{src:"/static/image/yqm.png",mode:"widthFix"}}),!0===t.yaoqingLink?i("v-uni-input",{staticClass:"input_width",attrs:{type:"number",placeholder:this.$t("message").resetPassword.regisplaceholder4,disabled:!0,"placeholder-style":"font-family: PingFang SC;font-size: 13px;\n\t\tfont-weight: 800;color: #FEE9E7;"},model:{value:t.yaoqing,callback:function(e){t.yaoqing=e},expression:"yaoqing"}}):t._e(),!1===t.yaoqingLink?i("v-uni-input",{staticClass:"input_width",attrs:{type:"number",placeholder:this.$t("message").resetPassword.regisplaceholder4,"placeholder-style":"font-family: PingFang SC;font-size: 13px;\n\t\tfont-weight: 800;color: #FEE9E7;"},model:{value:t.yaoqing,callback:function(e){t.yaoqing=e},expression:"yaoqing"}}):t._e()],1),i("v-uni-view",{staticClass:"inTitle"},[t._v(t._s(this.$t("message").resetPassword.title5))]),i("v-uni-view",{staticClass:"input1"},[i("v-uni-image",{staticStyle:{width:"44rpx",height:"36rpx"},attrs:{src:"/static/image/yzm.png",mode:"widthFix"}}),i("v-uni-input",{staticClass:"input_width2",attrs:{type:"text",placeholder:this.$t("message").resetPassword.regisplaceholder5,"placeholder-style":"font-family: PingFang SC;font-size: 13px;\n\t\tfont-weight: 800;color: #FEE9E7;"},model:{value:t.yzm,callback:function(e){t.yzm=e},expression:"yzm"}}),i("v-uni-image",{staticStyle:{width:"280rpx",height:"50rpx"},attrs:{src:t.src,mode:"widthFix"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.codes.apply(void 0,arguments)}}})],1),i("v-uni-view",{staticClass:"inTitle"},[t._v(t._s(this.$t("message").resetPassword.title6))]),i("v-uni-view",{staticClass:"input1"},[i("v-uni-image",{staticStyle:{width:"44rpx",height:"36rpx"},attrs:{src:"/static/image/yzm.png",mode:"widthFix"}}),i("v-uni-input",{staticClass:"input_width3",attrs:{type:"text",placeholder:this.$t("message").resetPassword.regisplaceholder6,"placeholder-style":"font-family: PingFang SC;font-size: 13px;\n\t\tfont-weight: 800;color: #FEE9E7;"},model:{value:t.sms,callback:function(e){t.sms=e},expression:"sms"}}),t.setCode<=0?i("v-uni-view",{staticClass:"send_code",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.sendCode.apply(void 0,arguments)}}},[t._v(t._s(this.$t("message").resetPassword.code))]):t._e(),t.setCode>0?i("v-uni-view",{staticClass:"send_code"},[t._v(t._s(t.setCode)+"s")]):t._e()],1)],1),i("v-uni-view",{staticStyle:{"margin-top":"50rpx",display:"flex","justify-content":"center"}}),i("v-uni-view",{staticStyle:{display:"flex","justify-content":"center","margin-top":"50rpx"}},[!0===t.setState?i("v-uni-view",{staticClass:"zhuce",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.zhuce.apply(void 0,arguments)}}},[t._v(t._s(this.$t("message").resetPassword.Zhuce))]):t._e(),!1===t.setState?i("v-uni-view",{staticClass:"not"},[t._v(t._s(this.$t("message").resetPassword.Zhuce))]):t._e()],1)],1),i("v-uni-view",{staticStyle:{position:"fixed",bottom:"0",left:"0",display:"flex"}},[i("v-uni-image",{staticStyle:{width:"750rpx",height:"266rpx",display:"flex"},attrs:{src:"/static/image/tu.png",mode:""}})],1)],1)},n=[]},ebd9:function(t,e,i){"use strict";var a=i("babc"),s=i.n(a);s.a}}]);